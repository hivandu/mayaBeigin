---
layout: post
title: 第二章第二节 Maya中的变形
categories:
- Maya
tags:
- deformation
- Maya
- 开始maya吧
- 第二章
published: true
comments: true
---
<p><!--more--></p>

<p><a href="http://hivan.me/2008/03/20/begin-maya.html" target="_blank">回章目录选择</a></p>

<p><a href="http://hivan.me/2008/03/20/second-morph-animation.html" target="_blank">回节目录选择</a>
<h4>本节概述</h4>
本节重点讲解Maya中变形的概念，理解了变形节点及其放置顺序才能正确地创建并调整物体的变形效果。
<h5>Maya中的变形类型</h5>
使用Maya 的变形功能，用户可改变物体的几何形状。Maya 包括下列类型的变形：</p>

<p>混合变形（Blend shape）：使用混合变形可以使一个物体的形状逐渐转变为其它物体的形状。</p>

<p>晶格变形（Lattice）：使用晶格改变物体的形状。</p>

<p>簇变形（Cluster）：使用簇变形，用户可使用不同的影响力来控制物体的点（CVs、顶点或晶格点）。</p>

<p>弯曲非线性变形（Bend）：使用此命令可沿圆弧弯曲物体。</p>

<p>扩张非线性变形（Flare）：使用此命令可沿两条轴扩张或细化物体。</p>

<p>正弦非线性变形（Sine）：使用此命令可沿正弦曲线改变物体的形状。</p>

<p>挤压非线性变形（Squash）：使用此命令可压缩或拉伸物体。</p>

<p>螺旋非线性变形（Twist）：使用此命令可使物体变为螺旋状。</p>

<p>波形非线性变形（Wave）：使用此命令可使用圆形正弦波来变形物体，并使物体产生波动效果。</p>

<p>造型变形（Sculpt）：使用球形影响物体变形物体。</p>

<p>线变形（Wire）：线变形使用一条或多条曲线来变形物体。</p>

<p>褶皱变形（Wrinkle）：综合线变形和簇变形来褶皱效果。</p>

<p>包裹变形（Wrap）：使用NURBS 表面、NURBS 曲线、或多边形表面（网格）来变形物体。
<h6>什么是可变形物体、点和集合？</h6>
变形器(Deformer)可在所有可变形物体上创建变形效果。</p>

<p>定义</p>

<p><em>对于任何物体，只要它的结构由控制点所定义，就可作为可变形物体。</em></p>

<p>控制点(Control Point)包括NURBS 控制顶点（CVs）、多边形顶点和晶格点。NURBS曲线、NURBS 表面、多边形表面和晶格都是可变形物体。为了方便起见，控制点通常简称为点，可变形物体的控制点通常被称为可变形物体点。</p>

<p>角色模型可由一个可变形物体组成（比如，一个大的多边形面），也可由一组变形物体组成。当用户创建变形时，Maya 把所有的可变形物体点放置到一个集合(Set)中，称为变形集合(Deformer Set)。用户可对此集合进行编辑。
<h6>节点、历史和变形顺序</h6>
我们可把Maya 的场景当作一个节点网。每个节点由指定的信息和与信息相关的操作组成。每个节点都能以属性的方式接收、保持和提供信息。一个节点的属性可以与其它节点的属性相连，从而形成节点网。当用户在Maya 中工作时，Maya 在不断地创建、连接、计算和摧毁节点。无论何时，在工作空间所看到的结果是Maya 对用户工作的节点网不断计算的结果。总之，在Maya 中，用户所做的操作是以动态的、基于节点的体系结构为基础的。</p>

<p>定义</p>

<p><em>Maya </em><em>计算变形的顺序称为变形顺序。在使用变形功能时，记清节点的历史是非常重要的。一个变形所产生的变形效果在很大程度上取决于变形在节点历史中的位置。这是因为变形效果随着Maya 计算变形顺序的不同而变化。</em></p>

<p>一般而言，用户可以对一个物体应用多个变形。由于变形效果取决于变形功能作用于物体的顺序，所以可创建多种效果。例如，一个NURBS 圆柱，如果用户先创建弯曲变形再创建正弦变形，会得到一种效果，如果用户先创建正弦变形后创建弯曲变形，那么会得到另一种不同结果。通常来讲，在系统默认设置下，变形功能作用于可变形物体顺序，也就是变形被创建时的顺序，先创建的变形先作用于原始形状，后创建的变形后作用于原始形状。</p>

<p>定义</p>

<p><em>Maya </em><em>计算变形的过程是从创建节点开始，按序一直计算到最终的形状节点，节点的相互连接通常称为“变形链”。</em><em></em></p>

<p>假设一个NURBS 球体具有被多个变形作用的历史。在从属图，原始（未变形）形节点(nurbsSphereShapenOrig)将紧跟在创建(makeNurbSpheren)节点的后面。注意Maya 有时把显示为原始形状的物体，称之为“中间物体”。Maya 把扭曲节点(tweakn)放置在原始形状节点的后面。在扭曲节点之后，是执行变形功能的变形节点，变形节点典型的放置顺序是变形被创建的顺序。Maya 在原始形状节点之后放置变形节点的顺序决定了变形顺序。然而，当用户在创建一个变形后，仍然可以控制变形的放置，以及在创建变形后，再改变变形的顺序。最后，在变形节点之后，Maya 放置一个形节点，它提供了球(nurbsSphereShape<em>n</em>)最终（被变形）的形状。球体的历史决定了变形的顺序。因为Maya 计算球体的过程是从创建节点开始，按序一直计算到最终的形状节点。注意在创建一个变形后，用户可通过改变变形顺序来编辑变形节点的放置。
<h6>变形放置的类型</h6>
<h6>Default（默认放置）</h6>
使用默认放置，Maya 把变形器（Deformer）节点放置在形状节点的上游。默认放置与前置类似，除非变形作用于没有历史的形状节点上。在这种情况下，默认放置与后置相同。当用户使用默认放置为物体创建多个变形时，结果是一个变形链，变形链的顺序与创建变形的顺序相同。
<h6>Before（前置）</h6>
使用前置选项，在创建变形后，Maya 将立即将变形器（Deformer）节点放置在可变形物体的被变形形状（Shape）节点的上游。在物体的历史中，变形将被放置在被变形形状（Shape）节点的前面。
<h6>After（后置）</h6>
使用后置选项，Maya 将立即把变形器放置在可变形物体变形形状（Shape）节点的下游（之后）。用户可使用后置功能在物体历史的中间创建一个中间变形形状。注意使用后置时，物体的原始的形状不被隐藏。
<h6>Split(分离放置)：</h6>
使用分离放置功能，Maya 把变形分成两个变形链。使用分离放置能同时以两种方式变形一个物体，从一个原始形状创建两个最终形状。
<h6>Parallel（平行放置）</h6>
使用平行放置，Maya 将把创建的变形和物体历史的上游节点平行放置，然后将现存上游节点和变形提供的效果混合在一起。平行混合节点（默认名：parallelBlendern），也就是把现存上游节点和新变形的效果混合在一起的节点，和新的变形节点，将被放置在最终形状节点的前面。</p>

<p>当用户想混合同时作用于一个物体的几个变形的效果时，Parallel 放置是非常有用的。例如，如果对于一些物体，使用系统默认的设置创建一个弯曲变形，然后使用Parallel 放置功能创建一个正弦变形，用户可直接控制每一个变形对物体的影响程度，混合每个变形的效果。</p>

<p>平行混合节点为每一个变形提供了一个权重通道。用户可编辑平行混合节点的通道。
<h6>Front Of Chain （前端放置）</h6>
Front Of Chain 放置选项仅作为混合变形的创建选项。混合形状变形的一个典型用途是在一个蒙皮角色上创建变形效果。Front Of Chain 放置能确保混合变形效果在蒙皮提供的变形作用之前作用于物体。如果作用顺序颠倒，当用户摆放骨骼姿势时，将出现不必要的双倍变形效果。使用Front Of Chain 放置功能，在可变形物体的形状历史中，混合变形总是在所有其它变形和蒙皮节点的前面。</p>
