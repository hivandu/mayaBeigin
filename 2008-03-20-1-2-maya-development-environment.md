---
layout: post
title: 第一章 第二节 熟悉Maya的动画开发环境
categories:
- Maya
tags:
- development
- environment
- Maya
- 开始maya吧
- 第一章
published: true
comments: true
---
<p><a href="http://hivan.me/2008/03/20/begin-maya.html" target="_blank">回章目录选择</a></p>

<p><a href="http://hivan.me/2008/03/20/first-maya-animation.html" target="_blank">回节目录选择</a>
<h6>本节概述</h6></p>

<p><p>理解了动画的一些基本概念以及制作方法之后，本节重点讲解Maya的动画开发环境。</p></p>

<p><h6>Maya的动画开发环境</h6></p>

<p><h6>动画控制</h6></p>

<p><p>Maya 控制动画时间的部件包括时间滑块、范围滑块和播放控制器。用户可以从动画控制区域快速的访问和编辑动画参数。如图1.2.1所示</p></p>

<p><p><img src="http://farm3.static.flickr.com/2026/2346520035_37c69f5bc0.jpg?v=0" /></p></p>

<p><p>图1.2.1</p></p>

<p><p>在范围滑块和动画参数按钮之间是当前角色控制和自动设置关键帧按钮（Auto Key）。</p></p>

<p><h6>使用时间滑块</h6></p>

<p><p>使用时间滑块可以控制播放范围，关键帧(Keys)和播放范围内的受控制帧（Breakdowns）。</p></p>

<p><p>如图1.2.2所示</p></p>

<p><p><img src="http://farm3.static.flickr.com/2060/2346521305_331ea62227.jpg?v=0" /></p></p>

<p><p>图1.2.2</p></p>

<p><h6>使用关键帧标记（Key Ticks）</h6></p>

<p><p>当为物体设置了关键帧后，当物体处于被选择状态时，在时间滑块上显示其红色的关键帧标记。受控制帧（Breakdowns），一种特殊的关键帧，在时间滑块上显示为绿色的标记。 当前时间指示器在时间滑块上显示为灰色的标记，它表示了动画的当前时间。用户可以拖动在动画中前后移动它。</p></p>

<p><h6>改变当前时间的方法：</h6></p>

<p><p>1． 在时间滑块的任意位置上鼠标左键单击，可以改变当前时间。场景会跳到动画的该时间处。用户的场景会更新。</p></p>

<p><p>2． 在时间滑块中使用左键拖动鼠标。用户的场景会更新。</p></p>

<p><p>3． 按住键盘上的k 键，然后在任意视图中水平拖动。用户的场景不会更新。</p></p>

<p><p>4． 使用鼠标中键在时间滑块上单击或拖动。用户的场景不会更新，但当前时间指示器会移动来表明新的当前时间。这是比较有用的，例如，用户在两个关键帧之间设置一个关键帧时，需要参考物体的前一关键帧位置，设置当前的关键帧。</p></p>

<p><p>默认的，当在时间滑块中拖动时，只有激活视图才会更新。通过在动画参数视窗中改变播放（Playback）设置为Update View All，可以使所有视图更新。</p></p>

<p><p>使用k 键设置关键帧的操作，在所有包含 Timeline（时间线）的视窗中都有效，例如，Graph Editor（图表编辑器）。</p></p>

<p><h6>时间单位</h6></p>

<p><p>时间滑块上的刻度和刻度值表示时间。如果要定义播放速率，从参数（Preferences）视窗的设置种类（Settings Category）中选择需要的播放速率。Maya 默认的播放速率为每秒24帧（标准的电影帧速率）。</p></p>

<p><p>单击动画参数按钮<img src="http://farm3.static.flickr.com/2176/2347350716_f4beed3074.jpg?v=0" /> ，打开参数视窗，设置播放速率。如图1.2.3所示</p></p>

<p><p><img src="http://farm4.static.flickr.com/3156/2346519751_ea54d82b03.jpg?v=0" /></p></p>

<p><p>图1.2.3</p></p>

<p><h6>当前时间域</h6></p>

<p><p>时间滑块右端的输入域显示了使用当前时间单位表示的当前时间，用户可以输入一个新的时间来改变当前时间。场景会移动到当前时间位置处，并且当前时间指示器也随之更新。</p></p>

<p><h6>在时间滑块上移动和缩放某个时间范围内的关键动画</h6></p>

<p><p>按住Shift 键，在时间滑块上单击并水平拖动，选择时间范围。选择的时间范围在时间滑块上以红色显示，开始帧和结束帧在选择区域的两端以白色数字显示。</p></p>

<p><p>单击并水平拖动选择区域两端的黑色箭头，可缩放选择区域。</p></p>

<p><p>单击并水平拖动选择区域中间的双黑色箭头，可移动选择区域。</p></p>

<p><p>双击时间滑块，可选择整个时间滑块范围。</p></p>

<p><p>如图1.2.4所示</p></p>

<p><p><img src="http://farm4.static.flickr.com/3167/2347350504_e429d3334b.jpg?v=0" /></p></p>

<p><p>图1.2.4</p></p>

<p><h6>使用范围滑块</h6></p>

<p><p>范围滑块用来控制播放范围。</p></p>

<p><p>动画开始时间 (Start Time)，此域设置动画的开始时间。</p></p>

<p><p>动画结束时间域（End Time），此域设置动画的结束时间。</p></p>

<p><p>播放开始时间（Playback Start Time），此域显示了当前播放范围的开始时间，输入新值，包括负值，可改变播放范围的开始时间。如果输入的数值大于播放结束时间，则播放结束时间会自动调节数值，且大于播放开始时间。</p></p>

<p><p>播放结束时间（Playback End Time），此域显示了播放范围的结束时间，输入新值，可改变播放范围结束时间。如果输入的数值小于播放开始时间，则播放开始时间会自动调节，且小于播放结束时间的数值。如图1.2.5所示</p></p>

<p><p><img src="http://farm3.static.flickr.com/2389/2347349040_c08780b27e.jpg?v=0" /></p></p>

<p><p>图1.2.5</p></p>

<p><h6>范围滑块条</h6></p>

<p><p>使用范围滑块条可控制动画的播放范围，但其数值不会超过动画的开始时间和结束时间（Start Time/End Time）。</p></p>

<p><h6>使用范围滑块条改变播放范围</h6></p>

<p><p>拖动范围滑块条，改变播放范围。</p></p>

<p><p>拖动范围滑块条两端的方盒，可缩放播放范围。</p></p>

<p><p>双击范围滑块条，播放范围变为整个动画的时间长度，再次双击可以恢复到上一个播放范围。</p></p>

<p><h6>使用播放控制</h6></p>

<p><p>播放控制是控制动画播放的按钮。播放范围显示在时间滑块中。如图1.2.6所示</p></p>

<p><p><img src="http://farm3.static.flickr.com/2301/2347348958_545cff45c6.jpg?v=0" /> 图1.2.6</p></p>

<p><p><img src="http://farm4.static.flickr.com/3260/2346520841_659db4cb0f_s.jpg" width="27" height="27" /> 按跳到开始（Go To Start）按钮使动画到播放范围的开始。</p></p>

<p><p><img src="http://farm3.static.flickr.com/2110/2347350320_c83ef1fcf5_s.jpg" width="27" height="27" /> 按向前一帧(Step Back Frame)按钮使动画向前移动一帧。默认的快捷键为Alt + .键。</p></p>

<p><p><img src="http://farm4.static.flickr.com/3142/2346520781_0afea39be2_s.jpg" width="27" height="27" /> 按上一关键帧（Step Back Key）按钮使动画跳到上一关键帧处。</p></p>

<p><p><img src="http://farm3.static.flickr.com/2293/2347350252_a1a0b81a57_s.jpg" width="26" height="26" /> 按反向播放（Play Backwards）按钮可以向后播放。按ESC 键可以停止播放。</p></p>

<p><p><img src="http://farm3.static.flickr.com/2234/2346520721_02c2655dc9_s.jpg" width="26" height="26" /> 按播放（Play Forwards）按钮向前播放动画。默认的快捷键是: Alt + V。按ESC 键将停止播放。</p></p>

<p><p><img src="http://farm3.static.flickr.com/2251/2347350172_63ce6b7e90_s.jpg" width="26" height="26" /> 按下一关键帧（Step Forward Key）按钮使动画跳到下一关键帧处。</p></p>

<p><p><img src="http://farm3.static.flickr.com/2133/2346520643_384ac22ff3_s.jpg" width="26" height="26" /> 向前一帧（按Step Forward Frame）按钮使动画向前播放一帧。默认的快捷键：Alt + ,键。</p></p>

<p><p><img src="http://farm3.static.flickr.com/2148/2347351436_098dc09cc4_s.jpg" width="27" height="27" /> 按跳到结束（Go To End）按钮使动画跳到播放范围的末尾。</p></p>

<p><p><img src="http://farm4.static.flickr.com/3107/2347351398_4de172b5a9_s.jpg" width="27" height="27" /> 按停止（Stop）按钮可以停止播放。只有当动画播放时，此按钮才会显示出来，或者替换播放（Play forwards）按钮，或者替换反向播放（Play Backwards）按钮。默认的快捷键为Esc 键。</p></p>

<p><h6>使用动画控制菜单</h6></p>

<p><p>如果用户在时间滑块的任意位置上单击，一个菜单会显示出来。此菜单中的命令主要用于操作当前选择物体的关键帧。</p></p>

<p><h6>拷贝（Copy）、剪切（Cut）、删除（Delete）和粘贴（Paste）关键帧</h6></p>

<p><p>拷贝、剪切和删除操作影响处于当前时间或选择范围内的关键帧。剪切和拷贝操作把选择的关键帧放在内部的剪贴板上，备于粘贴。</p></p>

<p><p>Paste &gt; Paste Connect 命令会粘贴拷贝的关键帧，它与Edit &gt; Keys &gt; Paste 命令在打开Connect 选项时的作用是一样的。</p></p>

<p><p>拷贝、剪切和删除操作只作用于整数时间范围。例如，如果当前时间是第5帧，这些操作只作用于第5帧到第6帧之间的范围，而不会包括第6帧或其它任何关键帧。</p></p>

<p><p>粘贴把剪贴板上的关键帧粘贴到当前时间处，有两种在时间滑块上粘贴关键帧的方式：</p></p>

<p><p>l 在时间滑块上单击被粘贴的关键帧开始的时间。在此时间后的现存的关键帧将被移动，移动距离的大小由被粘贴关键帧的时间范围决定。</p></p>

<p><p>l 放置被粘贴的关键帧到设置的时间范围中，Shift 单击时间滑块来选择一个时间范围。关键帧将被缩放以适应此区域。在选择区域中原有的关键帧将被除去。</p></p>

<p><h6>在时间滑块上拷贝和粘贴关键帧</h6></p>

<p><p>1 在时间滑块上Shift 单击并拖动，将从已设置关键帧的物体选择某一范围内的关键帧。</p></p>

<p><p>2 在时间滑块上右键单击并选择Copy 命令。</p></p>

<p><p>3 选择接收物体。</p></p>

<p><p>4 移动当前时间指示器（Current Time Indicator）到某一时间位置处，Maya 将从此时间位置开始放置已拷贝的关键帧。</p></p>

<p><p>5 在时间滑块上右键单击，并选择Paste &gt; Paste 命令。</p></p>

<p><h6>切线（Tangents）</h6></p>

<p><p>切线命令为处于当前时间的关键帧或选择范围内的所有关键帧设置切线类型。</p></p>

<p><p>Spline（样条）：圆滑一个新设关键帧之后的曲线。</p></p>

<p><p>Linear（线性）：使新设关键帧之后的动画曲线为直线。</p></p>

<p><p>Clamped（夹形）：使一个新设关键帧之后的动画曲线为平滑的曲线除非下一个关键帧与新设关键帧非常接近。如果这样，新设关键帧的出切线和下一个关键帧的入切线都是直线，使两个关键帧之间的动画曲线为直线。</p></p>

<p><p>Flat（平坦）：使一个新设关键帧之后的动画曲线为水平的。</p></p>

<p><p>Stepped（阶梯）：使动画曲线从新设关键帧到下一关键帧为水平的。</p></p>

<p><h6>声音（Sound）</h6></p>

<p><p>使用这个菜单可选择引入的声音文件，使其显示在时间滑块上。</p></p>

<p><h6>吸附（Snap）</h6></p>

<p><p>使用Snap 功能，迫使选择的关键帧吸附到最近的整数时间上。</p></p>

<p><h6>关键帧（Keys）</h6></p>

<p><p>Convert to Key ：把选择的受控制帧（Breakdowns）转化为关键帧。</p></p>

<p><p>Convert to Breakdown ：此项可把关键帧转化为受控制帧（Breakdowns ）。</p></p>

<p><p>Add Inbetween ：增加一个中间帧（Inbetween）。</p></p>

<p><p>Remove Inbetween ：除去单个中间帧（Inbetween）。</p></p>

<p><h6>Playback Looping（循环播放）</h6></p>

<p><p>如果要选择循环播放选项，在时间滑块上右击然后选择Playback Looping &gt; Once, Oscillate或Continuous 选项。</p></p>

<p><p>Once：一次。</p></p>

<p><p>Oscillate：往复。</p></p>

<p><p>Continuous：连续。</p></p>

<p><h6>Set Range To（设置范围为）</h6></p>

<p><p>Start/End：选择此项，播放范围被设置为数字输入栏中所设置的播放范围。</p></p>

<p><p>Min/Max ：选择此项，播放范围从场景的第一个关键帧到最后一个关键帧。</p></p>

<p><p>Selected：选择此项，播放范围变为在时间滑块上当前所选择的范围。</p></p>

<p><p>Sound Length：选择该项，播放范围被设置为当前装入声音的持续时间。</p></p>

<p><p>Preferences：设置播放范围为参数视窗中设置的播放范围。</p></p>

<p><h6>快速预览（Playblast）</h6></p>

<p><p>选择此项，打开Playblast 视窗，选择选项盒，可打开Playblast 选项视窗。设置参数后，对场景中的动画进行快速预览。</p></p>

<p><h6>本节工具解析</h6></p>

<p><h6>编辑动画参数</h6></p>

<p><h6>编辑关键帧参数</h6></p>

<p><p>单击动画参数（Animation Preferences）按钮。在种类（Categories）项中，选择Keys（关键帧）。如图1.2.7所示</p></p>

<p><p><img src="http://farm3.static.flickr.com/2383/2347351366_038d6acc8c.jpg?v=0" /></p></p>

<p><p>图1.2.7</p></p>

<p><p>·<b>Auto Key </b>此项设置当物体动画属性的数值改变时，是否自动为其设置关键帧。此参数与Animation Preferences（动画参数）按钮旁边的Auto Key（自动设置关键帧）按钮的效果是相同的。默认的，此项是关闭的。</p></p>

<p><p>·<b>Weighted Tangents</b>（权重切线） 单击可打开或关闭此项。默认的是关闭的。</p></p>

<p><p>·<b>Default In Tangent</b>（默认的入切线） 设置默认的in tangent（入切线）类型。入切线的类型控制着动画曲线中一个新设关键帧右侧的曲线形状。</p></p>

<p><p>选择Spline、Linear、Clamped、Flat 或Stepped 类型。</p></p>

<p><p>·<b>Default Out Tangent</b></p></p>

<p><p>（默认的出切线） 设置默认出切线的类型，它控制着一个新设关键帧之后的动画曲线的形状。</p></p>

<p><h6>编辑声音参数</h6></p>

<p><p>单击动画参数（Animation Preferences）按钮，在种类（Categories）项中，选择Sound（声音）。如图1.2.8所示</p></p>

<p><p><img src="http://farm3.static.flickr.com/2351/2346521755_004f0ac097.jpg?v=0" /> 图1.2.8</p></p>

<p><p>·<b>Waveform Display</b>（波形显示） 设置声音的波形（振幅描述）是如何显示在时间滑块上。</p></p>

<p><p>Top显示波形的上半部分。</p></p>

<p><p>Bottom显示波形的下半部分。</p></p>

<p><p>All显示所有的波形</p></p>

<p><p>单击选择Top、Bottom 或All。默认的是Top。</p></p>

<p><p>·<b>Repeat on Hold</b>（保持时重复） 设置当在某个时间上保持鼠标按钮时，声音是否连续重复。此项主要用于在音轨中定位某个声音。默认的是关闭的。</p></p>

<p><p>·<b>Repeat Size</b>（重复尺寸） 当Repeat on Hold 项是打开的，此项才有效。1 使声音的最小段——声音在单位时间延时内的1/3 是重复的，而其它的2/3 是无声的；2 设置声音在单位时间延时内的一半是重复的，而其它的一半是无声的；3 使当前时间单位内的整个声音都是重复的。</p></p>

<p><h6>编辑和播放参数</h6></p>

<p><p>单击动画参数（Animation Preferences）按钮。在种类（Categories）项中，选择Timeline（时间线）。如图1.2.9所示</p></p>

<p><p><img src="http://farm3.static.flickr.com/2407/2347349734_aa2297e6ec.jpg?v=0" /></p></p>

<p><p>图1.2.9</p></p>

<p><h6>时间线(Timeline)参数</h6></p>

<p><p>·<b>Playback Start/End</b>（播放范围的开始帧和结束帧）设置播放范围的开始和结束时间。播放的开始和结束时间决定了时间滑块上的播放范围。播放范围总是在动画范围内。</p></p>

<p><p>·<b>Animation Start/End</b>（动画的开始时间和结束时间）设置动画范围的开始和结束时间。动画开始和结束时间决定了范围滑块的范围。</p></p>

<p><p>注意:播放范围总是在动画范围内，因此改变动画的开始和结束时间会影响播放的开始和结束时间。默认的动画开始和结束时间分别是0.00 和40.0。</p></p>

<p><p>·<b>Height </b>（高度） 设置时间滑块的高度（它占据的垂直空间）。当用户编辑声音时，增加高度特别有用。使用双倍或四倍高度可以更好的显示声音的波形。单击1x(正常高度)，2x (双倍高度)或4x (4 倍高度)。默认的是1x。</p></p>

<p><p>·<b>Key Ticks</b>（关键帧标记） 设置关键帧标记在时间滑块上的显示方式。None项使时间滑块不显示关键帧标记。如果用户有大量的关键帧并想提高工作空间中的选择操作时，此项特别有用。Active项使关键帧标记显示在时间滑块上，用户可以选择和编辑这些关键帧。选择Channel Box 项时，只有通道盒中当前选择通道的关键帧标记显示出来。当用户使用时间滑块来编辑动画物体的设置通道的关键帧时，可以使用此项。单击选择None、Active 或Channel Box。默认的是Active。</p></p>

<p><p>·<b>Options </b>（选项） 选项包括Timecode（时间编码）和Snapping（吸附）。选择Timecode 项时，Maya 会以视频标准的时间编码来显示当前时间。当前时间显示在“当前时间指示器”的旁边。用户可以使用Timecode Offset 选项来设置时间编码的初始数值。默认的是off。选择Snapping 选项时，Maya 会使用整数时间来播放动画（总是吸附到最近的整数时间上）。默认的，此项是打开的。如果用户正工作于声音或小的时间范围，用户可以关闭Snapping 项来进行平滑的动画播放。</p></p>

<p><p>·<b>Timecode Offset</b>（时间编码偏移） 设置时间滑块上开始时间的时间编码。主要用来匹配录像带的时间。只有当Timecode 项打开时，此项才有效。默认的是00:00:00:00。</p></p>

<p><h6>播放(Playback)参数</h6></p>

<p><p>·<b>Update View</b>（更新视图） 设置在场景播放时，Maya 更新所有的视图还是只更新激活视图。如果用户的工作空间布局包括几个视图（例如，选择Panels &gt; Layouts 命令设置的布局）。如果场景只在激活视图中播放，可以提高操作的速度。单击Active 或All 项。默认的是Active。</p></p>

<p><p>·<b>Looping</b>（循环） 设置当动画向前播放到达播放结束时间（或如果向后播放，到达播放开始时间）时，Maya 所进行的操作。选择Once（一次）项时，场景只播放一次，然后停止。选择Oscillate（震荡）项时，场景向前（或向后）播放，到达结束时间（或开始时间）后，再向后（或向前）播放，直到用户停止播放。选择Continuous（持续）项时，场景在向前播放到达播放结束时间（或场景向后播放到达播放开始时间）后，再返回从播放开始时间（或播放结束时间）开始继续播放，直到用户停止播放。单击Once、Oscillate 或Continuous 项。默认的是Continuous 项。</p></p>

<p><p>·<b>Playback Speed</b>（播放速度） 设置场景播放的速度。如果选择Free 项，Maya 会显示所有的帧，也就是在显示下一帧之前更新前一帧。此时播放的速度取决于计算机计算和刷新每一帧的速度。用户可以使用Playback by 项来设置播放的帧增量。选择Normal 项，则Maya 会以每秒30 帧（fps）的速度播放动画。根据计算机的计算能力、场景的复杂度和显示模式（例如线框或平滑材质模式），Maya 可能不显示所有的帧。选择Half 项，Maya 以每秒15 帧（fps）的实时速度播放场景。选择Twice 项，Maya 以每秒60 帧（fps）的实时速度播放场景。使用Other 项，可以用一个系数与正常的实时速度（30fps）相乘来决定播放速度。例如，如果以正常播放速度的1/4 来播放动画，在Other 项中输入0.25。选择Free、Normal (30 fps)、Half (15 fps)、Twice (60 fps)或Other 项。默认的是Free。</p></p>

<p><p>·<b>Playback by </b>当Playback Speed（播放速度）项设置为Free 时，可以使用此项来设置播放的帧增量。例如，如果用户输入4，则Maya 每隔4 帧才显示一帧画面。默认的是1.000。用户还可以设置播放的时间单位。</p></p>

<p><h6>编辑时间单位参数</h6></p>

<p><p>单击Animation Preferences（动画参数）按钮。在Categories（种类）项中，选择Settings。如图1.2.10所示</p></p>

<p><p><img src="http://farm4.static.flickr.com/3034/2346521425_665900fa2f.jpg?v=0" /></p></p>

<p><p>图1.2.10</p></p>

<p><p>·<b>Time</b>（时间） 设置动画的时间单位。时间滑块以选择的单位显示时间数值。当用户选择时间单位时，时间滑块的数值会更新。用户可以设置时间单位为帧或时钟数值（如分、秒）。帧选择包括Game (15 fps)、Film (24 fps)、PAL (24 fps)、NTSC (30 fps)、Show (48 fps)、PAL Field (50 fps)和NTSC Field (60 fps)。时钟数值包括milliseconds（毫秒） seconds（秒） minutes（分钟）和hours（小时）。一般的，术语<i>frame</i>（帧）和<i>time</i>（时间）是指显示在时间滑块上的时间单位。技术讲，只有时间以帧（fps）来计算时，才使用术语Frame（帧），但一般的，涉及到帧或时钟数值时，都是指时间。</p></p>
